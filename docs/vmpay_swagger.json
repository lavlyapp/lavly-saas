{"openapi":"3.0.1","info":{"title":"Lavanderia API","description":"Lavanderia JSON Web Token Authentication API","version":"1.0.0"},"externalDocs":{"description":"JWT authentication","url":"https://jwt.io"},"servers":[{"url":"/vmlav"}],"paths":{"/api/externa/v1/vendas":{"get":{"tags":["API Externa: Vendas"],"summary":"Vendas","operationId":"listarVendas","parameters":[{"name":"dataInicio","in":"query","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ (Campo obrigatório caso idVenda não esteja preenchido)","required":false,"schema":{"type":"string","format":"date-time"},"example":"2023-04-01T00:00:00Z"},{"name":"dataTermino","in":"query","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ (Campo obrigatório caso idVenda não esteja preenchido)","required":false,"schema":{"type":"string","format":"date-time"},"example":"2023-04-01T23:59:59Z"},{"name":"idVendaMaiorQue","in":"query","description":"Busca todas as vendas a partir do id, campo é obrigatório caso a data não esteja preenchida","required":false,"schema":{"minimum":0,"type":"integer","format":"int64"}},{"name":"somenteSucesso","in":"query","description":"Somente vendas concretizadas","required":true,"schema":{"type":"boolean"},"example":true},{"name":"cnpj","in":"query","description":"Permite especificar o CNPJ de uma franquia","required":false,"schema":{"type":"string"},"example":"000.000.000-00"},{"name":"pagina","in":"query","description":"Mínimo 0","required":true,"schema":{"minimum":0,"type":"integer","format":"int32"},"example":0},{"name":"idLavanderia","in":"query","description":"id da lavanderia","required":false,"schema":{"minimum":0,"type":"integer","format":"int64"}},{"name":"idCliente","in":"query","description":"id do cliente","required":false,"schema":{"minimum":1,"type":"integer","format":"int64"}},{"name":"quantidade","in":"query","description":"1 até 1000","required":true,"schema":{"maximum":1000,"minimum":1,"type":"integer","format":"int32"},"example":10}],"responses":{"400":{"description":"Dados inválidos"},"201":{"description":"Registro criado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VendaDTO"}}}}},"404":{"description":"Registro não encontrado"},"200":{"description":"Operação realizada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/VendaDTO"}}}}},"403":{"description":"Acesso negado"}},"security":[{"API Key":[]}]}},"/api/externa/v1/maquinas":{"get":{"tags":["API Externa: Máquinas"],"summary":"Máquinas","operationId":"listarMaquinas","parameters":[{"name":"CNPJ","in":"query","description":"Permite especificar o CNPJ de uma franquia","required":false,"schema":{"type":"string"},"example":"00.000.000/0000-00"},{"name":"pagina","in":"query","description":"Mínimo 0","required":true,"schema":{"minimum":0,"type":"integer","format":"int32"},"example":0},{"name":"quantidade","in":"query","description":"1 até 1000","required":true,"schema":{"maximum":1000,"minimum":1,"type":"integer","format":"int32"},"example":10},{"name":"estadoCadastro","in":"query","description":"Filtra o estado de cadastro da máquina (excluída ou disponível pra uso)","required":false,"schema":{"type":"boolean"}}],"responses":{"400":{"description":"Dados inválidos"},"201":{"description":"Registro criado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MaquinaApiDTO"}}}}},"404":{"description":"Registro não encontrado"},"200":{"description":"Operação realizada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MaquinaApiDTO"}}}}},"403":{"description":"Acesso negado"}},"security":[{"API Key":[]}]}},"/api/externa/v1/lavanderias":{"get":{"tags":["API Externa: Lavanderias"],"summary":"Lavanderias","operationId":"listarLavanderias","parameters":[{"name":"CNPJ","in":"query","description":"Permite especificar o CNPJ de uma franquia","required":false,"schema":{"type":"string"},"example":"00.000.000/0000-00"},{"name":"pagina","in":"query","description":"Mínimo 0","required":true,"schema":{"minimum":0,"type":"integer","format":"int32"},"example":0},{"name":"quantidade","in":"query","description":"1 até 1000","required":true,"schema":{"maximum":1000,"minimum":1,"type":"integer","format":"int32"},"example":10}],"responses":{"400":{"description":"Dados inválidos"},"201":{"description":"Registro criado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LavanderiaApiDTO"}}}}},"404":{"description":"Registro não encontrado"},"200":{"description":"Operação realizada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/LavanderiaApiDTO"}}}}},"403":{"description":"Acesso negado"}},"security":[{"API Key":[]}]}},"/api/externa/v1/clientes":{"get":{"tags":["API Externa: Clientes"],"summary":"Clientes","operationId":"listarClientes","parameters":[{"name":"CNPJ","in":"query","description":"Permite especificar o CNPJ de uma franquia","required":false,"schema":{"type":"string"},"example":"00.000.000/0000-00"},{"name":"CPF","in":"query","description":"Permite especificar o CPF de um cliente","required":false,"schema":{"type":"string"},"example":"000.000.000-00"},{"name":"pagina","in":"query","description":"Mínimo 0","required":true,"schema":{"minimum":0,"type":"integer","format":"int32"},"example":0},{"name":"quantidade","in":"query","description":"1 até 1000","required":true,"schema":{"maximum":1000,"minimum":1,"type":"integer","format":"int32"},"example":10},{"name":"campoOrdenacao","in":"query","description":"Campo para ordenação da lista de clientes (ultimaCompra ou dataCadastro)","required":false,"schema":{"type":"string"},"example":"dataCadastro"},{"name":"direcaoOrdenacao","in":"query","description":"Direção da ordenação da lista de clientes","required":false,"schema":{"type":"string"},"example":"asc"}],"responses":{"400":{"description":"Dados inválidos"},"201":{"description":"Registro criado com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClienteApiDTO"}}}}},"404":{"description":"Registro não encontrado"},"200":{"description":"Operação realizada com sucesso","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ClienteApiDTO"}}}}},"403":{"description":"Acesso negado"}},"security":[{"API Key":[]}]}}},"components":{"schemas":{"Documento":{"required":["identificador","tipo"],"type":"object","properties":{"tipo":{"type":"string","enum":["CNPJ","CPF"]},"identificador":{"type":"string"}}},"ItemPedidoDTO":{"type":"object","properties":{"tipoServico":{"type":"string","enum":["Lavagem","Secagem"]},"servico":{"type":"string"},"maquina":{"type":"string"},"valor":{"type":"number"},"valorSemDesconto":{"type":"number"}}},"PedidoDTO":{"type":"object","properties":{"itens":{"type":"array","items":{"$ref":"#/components/schemas/ItemPedidoDTO"}}}},"VendaDTO":{"type":"object","properties":{"data":{"type":"string","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ","format":"date-time","example":"2023-04-01T00:00:00Z"},"empresa":{"type":"string"},"documentoEmpresa":{"$ref":"#/components/schemas/Documento"},"idLavanderia":{"type":"integer","format":"int64"},"idCliente":{"type":"integer","format":"int64"},"lavanderia":{"type":"string"},"cpfCliente":{"type":"string"},"nomeCliente":{"type":"string"},"telefoneCliente":{"type":"string"},"emailCliente":{"type":"string"},"equipamento":{"type":"string"},"tipoPagamento":{"type":"string","enum":["Desconhecido","TEF","QRCode","Voucher","Cupom","App"]},"status":{"type":"string","enum":["Sucesso","Falha"]},"codErro":{"type":"string"},"erro":{"type":"string"},"autorizador":{"type":"string"},"provedor":{"type":"string"},"adquirente":{"type":"string"},"voucher":{"type":"string"},"cupom":{"type":"string"},"valor":{"type":"number"},"valorSemDesconto":{"type":"number"},"ciclos":{"type":"integer","format":"int32"},"tipoCartao":{"type":"string"},"bandeiraCartao":{"type":"string"},"pedido":{"$ref":"#/components/schemas/PedidoDTO"},"dtaNascimento":{"type":"string","format":"date-time"},"requisicao":{"type":"string"},"codigoAutorizacaoEmissor":{"type":"string"},"nomeCategoriaVoucher":{"type":"string"},"idVenda":{"type":"integer","format":"int64"},"creditoReal":{"type":"boolean"}}},"MaquinaApiDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nome":{"type":"string"},"idLavanderia":{"type":"integer","format":"int64"},"tipo":{"type":"string","enum":["Lavagem","Secagem"]},"estado":{"type":"string"},"estadoCadastro":{"type":"boolean"}}},"CidadeDTO":{"required":["nome","uf"],"type":"object","properties":{"id":{"type":"integer","format":"int64"},"idexterno":{"type":"integer","format":"int64"},"nome":{"type":"string"},"uf":{"type":"string","enum":["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","SC","SE","SP","RJ","RN","RO","RS","RR","TO"]}}},"EnderecoDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"logradouro":{"type":"string"},"numero":{"type":"string"},"complemento":{"type":"string"},"bairro":{"type":"string"},"cep":{"type":"string"},"latitude":{"type":"number"},"longitude":{"type":"number"},"cidade":{"$ref":"#/components/schemas/CidadeDTO"},"nomeCidade":{"type":"string"},"estado":{"type":"string"}}},"LavanderiaApiDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nome":{"type":"string"},"endereco":{"$ref":"#/components/schemas/EnderecoDTO"},"empresa":{"type":"string"},"documentoEmpresa":{"$ref":"#/components/schemas/Documento"}}},"ClienteApiDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"nome":{"type":"string"},"dataNascimento":{"type":"string","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ","format":"date-time","example":"2023-04-01T00:00:00Z"},"cpf":{"type":"string"},"telefone":{"type":"string"},"email":{"type":"string"},"genero":{"type":"string","enum":["Feminino","Masculino"]},"dataCadastro":{"type":"string","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ","format":"date-time","example":"2023-04-01T00:00:00Z"},"qtdCompras":{"type":"integer","format":"int64"},"valorTotalCompras":{"type":"number"},"primeiraCompra":{"type":"string","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ","format":"date-time","example":"2023-04-01T00:00:00Z"},"ultimaCompra":{"type":"string","description":"UTC Formato AAAA-MM-DDTHH:MM:SSZ","format":"date-time","example":"2023-04-01T00:00:00Z"}}}},"securitySchemes":{"Bearer Authentication":{"type":"http","scheme":"bearer","bearerFormat":"JWT"},"API Key":{"type":"apiKey","name":"x-api-key","in":"header"}}}}
